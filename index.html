<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coder Gemini - Modern Coding Environment</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Monaco Editor -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs/loader.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Left sidebar - Files -->
        <div class="sidebar files-sidebar">
            <div class="sidebar-header logo">
                <h1>Coder Gemini</h1>
            </div>
            <div class="section-header">
                <div class="section-label">
                    <h3>Files</h3>
                </div>
                <button class="add-file-btn" id="new-file-btn"><i class="material-icons">add</i></button>
            </div>
            <div class="file-list">
                <div class="file-item active">
                    <span>main.js</span>
                </div>
                <div class="file-item">
                    <span>index.html</span>
                </div>
                <div class="file-item">
                    <span>styles.css</span>
                </div>
            </div>
        </div>

        <!-- Main content area -->
        <div class="main-content">
            <!-- Top toolbar -->
            <div class="top-bar">
                <div class="toolbar-left">
                    <button class="toolbar-btn" id="open-file-btn" title="Open File (Ctrl+O)">
                        <i class="material-icons">folder_open</i>
                    </button>
                    <button class="toolbar-btn" id="save-file-btn" title="Save File (Ctrl+S)">
                        <i class="material-icons">save</i>
                    </button>
                </div>
                <div class="toolbar-right">
                    <button class="toolbar-btn" id="settings-button" title="Settings">
                        <i class="material-icons">settings</i>
                    </button>
                </div>
            </div>

            <!-- Editor container -->
            <div class="editor-container">
                <div id="editor"></div>
            </div>
            
            <!-- Status bar -->
            <div id="status-bar" class="status-bar">
                <span>Ready</span>
            </div>
        </div>

        <!-- Right sidebar - AI Chat -->
        <div class="sidebar ai-sidebar">
            <div class="sidebar-header">
                <h2>Gemini AI Assistant</h2>
                <div class="ai-controls">
                    <button id="chat-mode-toggle" class="chat-mode-toggle ask" title="Switch to Write Mode">
                        Ask Mode
                    </button>
                </div>
            </div>
            
            <div class="ai-content">
                <div class="model-selector">
                    <select id="model-select" class="model-select">
                        <option value="gemini-2.0-flash-exp">Gemini 2.0 Flash (Experimental)</option>
                        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                        <option value="gemini-2.0-pro">Gemini 2.0 Pro</option>
                        <option value="gemini-2.0-pro-latest">Gemini 2.0 Pro (Latest)</option>
                        <option value="gemini-1.5-flash">Gemini 1.5 Flash</option>
                        <option value="gemini-1.5-flash-latest">Gemini 1.5 Flash (Latest)</option>
                        <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                        <option value="gemini-1.5-pro-latest">Gemini 1.5 Pro (Latest)</option>
                        <option value="gemini-1.0-pro">Gemini 1.0 Pro</option>
                        <option value="gemini-1.0-pro-vision">Gemini 1.0 Pro Vision</option>
                    </select>
                </div>
                
                <div id="chat-container" class="chat-container">
                    <div class="chat-message assistant">
                        <div class="message-role">Gemini AI</div>
                        <div class="message-content">
                            üëã Welcome to Coder Gemini! I'm your AI coding assistant. 
                            <br><br>
                            <strong>Ask Mode:</strong> Ask me questions about coding, get explanations, or discuss ideas.
                            <br><br>
                            <strong>Write Mode:</strong> I'll analyze your workspace and help you write or modify code.
                            <br><br>
                            Please set your Gemini API key in settings to get started!
                        </div>
                    </div>
                </div>
                
                <div class="chat-input-container">
                    <textarea 
                        id="chat-input" 
                        class="chat-input" 
                        placeholder="Ask me anything about coding..."
                        rows="3"
                    ></textarea>
                    <button id="send-button" class="send-button" title="Send Message (Enter)">
                        <i class="material-icons">send</i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <button id="settings-close" class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="api-key-input">Gemini API Key</label>
                    <div class="api-key-container">
                        <input 
                            type="password" 
                            id="api-key-input" 
                            placeholder="Enter your Gemini API key"
                            class="setting-input"
                        >
                        <button id="api-key-visibility-toggle" class="visibility-toggle" title="Show/Hide API Key">
                            üëÅÔ∏è
                        </button>
                    </div>
                    <small>Your API key is stored locally and never sent to our servers.</small>
                </div>
                
                <div class="setting-group">
                    <label for="theme-select">Editor Theme</label>
                    <select id="theme-select" class="setting-input">
                        <option value="vs-dark">Dark Theme</option>
                        <option value="vs-light">Light Theme</option>
                        <option value="hc-black">High Contrast</option>
                    </select>
                </div>
                
                <div class="setting-group">
                    <label for="font-size-input">Font Size</label>
                    <input 
                        type="number" 
                        id="font-size-input" 
                        min="10" 
                        max="24" 
                        value="14"
                        class="setting-input"
                    >
                </div>
                
                <div class="setting-group">
                    <label for="tab-size-input">Tab Size</label>
                    <input 
                        type="number" 
                        id="tab-size-input" 
                        min="2" 
                        max="8" 
                        value="4"
                        class="setting-input"
                    >
                </div>
            </div>
            <div class="modal-footer">
                <button id="settings-save" class="btn btn-primary">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Initialize Monaco Editor -->
    <script>
        require.config({ paths: { vs: 'https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.45.0/min/vs' } });
        require(['vs/editor/editor.main'], function() {
            // Monaco Editor is now loaded
            window.monaco = monaco;
        });
    </script>

    <!-- Load the main application script as a module -->
    <script type="module" src="main.js"></script>
</body>
</html> 